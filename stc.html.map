{"version":3,"sources":["./target.h","./graphics.h","main.c","./player.h"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwBA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAEA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAEA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AAEA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;AAeA;AAAA;AAAA;AAAA;AAAA;;AAGA;;AAzBA;AADA;AAUA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;AAeA;;AAbA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;AAYA;;AAVA;AAAA;AAAA;AAAA;;AAUA;;;;;;;;;AAEA;AAEA;AAAA;;;;;;;;AAQA;;;;;;;;;;;AAQA;;;;;;;;;;;;;AAUA;AAAA;;;AAAA;AAAA;AAAA;;AAEA;;;;;;;AAGA;;AAUA;;;;;AAcA;;;;AAxBA;AAAA;AAAA;;AAEA;;;;;AAGA;;AAAA;;AAEA;;;;;;;;;;;;AAGA;AAAA;AAAA;;AAEA;;;;;;;;AAOA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;AAGA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAEA;;;;;;;AAKA;AACA;AAAA;;AAAA;AAAA;AAAA;;AAEA;AACA;AAAA;;;;;;;;;;AAEA;;;AAAA;AAAA;AAAA;;AAEA;AACA;AAAA;;AAEA;;;;;;AAAA;AAAA;AAAA;;AAEA;AACA;AAAA;;;;;AAOA;;;;;;AALA;;AAKA;;;AALA;AAAA;AAAA;;AAKA;;AAHA;AACA;AAAA;AAEA;;;;;;;;;;;AC9HA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;;;;;;;;;ACfA;AAAA;AAAA;;;AAEA;AAAA;;;AAMA;AAAA;AAAA;AAAA;AAAA;;AAEA;AAAA;;AAEA;AACA;AACA;AAAA;AACA;AACA;AACA;;;AAIA;AACA;;;;;;AAtBA;AAAA;;;;;;AA4BA;AAAA;;;AAEA;AAAA;;AAEA;;AAGA;AAAA;;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;;;AAIA;AAAA;;AAEA;;;;AAKA;AAAA;;AAEA;AAAA;AAAA;;ACpDA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAEA;AACA;;;AAEA;AAAA;;;;AAAA;AAAA;AAAA;;AAEA;AACA;;;;;;;;AAEA;;;;;;;;;;AAAA;AAAA;;;;AAEA;AACA;;;;AAEA;;;;AAAA;AAAA;AAAA;;AAEA;AACA;;;;;;;;;AAGA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwBA;AAAA;AACA;AAAA;AAAA;ADUA;AACA;AAAA;AACA;;;;;;;;;;;ACbA;AAAA;AACA;AAAA;AAAA;ADUA;AACA;AAAA;AACA;;;;;;;AAMA;AD1EA;AAAA;AACA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;ADXA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AGFA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AACA;AACA;AD2EA;AAQA;AACA;AACA","file":"stc.html","sourcesContent":["typedef struct target\n{\n    SDL_Rect clear;\n    SDL_Rect outter;\n    SDL_Rect fill;\n    SDL_Rect goal;\n    SDL_Rect inner;\n    SDL_Color color;\n    Direction dir;\n} Target;\n\nvoid targetInit( Target* trgt )\n{\n    trgt->clear  = ( SDL_Rect  ){    8,    8,  164,  164 };\n    trgt->outter = ( SDL_Rect  ){   12,   12,  156,  156 };\n    trgt->fill   = ( SDL_Rect  ){   25,   25,  130,  130 };\n    trgt->goal   = ( SDL_Rect  ){   29,   29,  122,  122 };\n    trgt->inner  = ( SDL_Rect  ){   30,   30,  120,  120 };\n    trgt->color  = ( SDL_Color ){ 0x00, 0xCC, 0xFF, 0xFF };\n    trgt->dir    = STOP;\n}\n\nint targetCheck( Target* trgt, Player* plyr )\n{\n    int plyr_x = plyr->body.x;\n    int plyr_y = plyr->body.y;\n    int plyr_w = plyr->body.x + plyr->body.w;\n    int plyr_h = plyr->body.y + plyr->body.h;\n\n    int outt_x = trgt->outter.x;\n    int outt_y = trgt->outter.y;\n    int outt_w = trgt->outter.x + trgt->outter.w;\n    int outt_h = trgt->outter.y + trgt->outter.h;\n\n    int fill_x = trgt->fill.x;\n    int fill_y = trgt->fill.y;\n    int fill_w = trgt->fill.x + trgt->fill.w;\n    int fill_h = trgt->fill.y + trgt->fill.h;\n\n    int goal_x = trgt->goal.x;\n    int goal_y = trgt->goal.y;\n    int goal_w = trgt->goal.x + trgt->goal.w;\n    int goal_h = trgt->goal.y + trgt->goal.h;\n\n    if( plyr_x > outt_x && plyr_y > outt_y && plyr_w < outt_w && plyr_h < outt_h )\n    {\n        trgt->color = ( SDL_Color ){ 0xFF, 0xFF, 0x00, 0xFF };\n        if( plyr_x > fill_x && plyr_y > fill_y && plyr_w < fill_w && plyr_h < fill_h )\n        {\n            trgt->color = ( SDL_Color ){ 0x00, 0xFF, 0xFF, 0xFF };\n            if( plyr_x > goal_x && plyr_y > goal_y && plyr_w < goal_w && plyr_h < goal_h )\n            {\n                trgt->color = ( SDL_Color ){ 0x00, 0xFF, 0x00, 0xFF };\n            }\n        }\n        return 1;\n    }\n    else\n    {\n        trgt->color = ( SDL_Color ){ 0xFF, 0x00, 0x00, 0xFF };\n        return 0;\n    }\n}\n\nint targetMove( Target* trgt )\n{\n    switch( trgt->dir )\n    {\n        case RIGHT:\n            trgt->clear.x += 5;\n            trgt->clear.y += 0;\n            break;\n        case DOWN:\n            trgt->clear.x += 0;\n            trgt->clear.y += 5;\n            break;\n        case LEFT:\n            trgt->clear.x -= 5;\n            trgt->clear.y += 0;\n            break;\n        case UP:\n            trgt->clear.x += 0;\n            trgt->clear.y -= 5;\n            break;\n        case STOP:\n            trgt->clear.x += 0;\n            trgt->clear.y += 0;\n            break;\n    }\n\n    int flag = 1;\n    \n    if( trgt->clear.x == 8 && trgt->clear.y <= 8 ) \n    {\n        trgt->clear.y = 8;\n        flag = 0;\n    }\n    else if( trgt->clear.x >= 495 && trgt->clear.y == 8 )\n    {\n        trgt->clear.x = 495;\n        flag = 0;\n    }\n    else if( trgt->clear.x == 495 && trgt->clear.y >= 495 )\n    {\n        trgt->clear.y = 495;\n        flag = 0;\n    }\n    else if( trgt->clear.x <= 8 && trgt->clear.y == 495 )\n    {\n        trgt->clear.x = 8;\n        flag = 0;\n    }\n\n    \n    if( flag == 0 )\n    {\n        printf( \"target.h:117 : flag = 1\\n\" );\n        printf( \"target.h:118 : ( %d, %d )\\n\", trgt->clear.x, trgt->clear.y );\n    }\n\n    trgt->outter.x = trgt->clear.x  +  4;\n    trgt->outter.y = trgt->clear.y  +  4;\n    trgt->fill.x   = trgt->outter.x + 13;\n    trgt->fill.y   = trgt->outter.y + 13;\n    trgt->goal.x   = trgt->fill.x   +  4;\n    trgt->goal.y   = trgt->fill.y   +  4;\n    trgt->inner.x  = trgt->goal.x   +  1;\n    trgt->inner.y  = trgt->goal.y   +  1;\n\n    return flag;\n}\n\nvoid setTargetDir( Target* trgt )\n{\n    printf( \"\\n\" );\n    if( trgt->clear.x == 8 && trgt->clear.y == 8 ) \n    {\n        printf( \"RIGHT\\n\" );\n        trgt->dir = RIGHT;\n    }\n    if( trgt->clear.x == 495 && trgt->clear.y == 8 )\n    {\n        printf( \"DOWN\\n\" );\n        trgt->dir = DOWN;\n    }\n    if( trgt->clear.x == 495 && trgt->clear.y == 495 )\n    {\n        printf( \"LEFT\\n\" );\n        trgt->dir = LEFT;\n    }\n    if( trgt->clear.x == 8 && trgt->clear.y == 495 )\n    {\n        printf( \"UP\\n\" );\n        trgt->dir = UP;\n    }\n}\n","typedef struct graphics\n{\n    SDL_Surface* surface;\n    SDL_Rect screen;\n    \n    // SDL_Rect back;\n    // SDL_Color back_color;\n    \n    SDL_Rect path;\n    SDL_Color path_color;\n    \n    SDL_Rect fill;\n    SDL_Color fill_color;\n} Graphics;\n\nvoid graphicsInit( Graphics* gfx )\n{\n    gfx->surface    = SDL_SetVideoMode( SCREEN_W, SCREEN_H, 32, SDL_SWSURFACE );\n    gfx->screen     = ( SDL_Rect  ){    0,    0, SCREEN_W, SCREEN_H };\n    //gfx->back       = ( SDL_Rect  ){    1,    1,      698,      698 };\n    //gfx->back_color = ( SDL_Color ){ 0xFF, 0xFF,     0xFF,     0xFF };\n    gfx->path       = ( SDL_Rect  ){   30,   30,      608,      608 };\n    gfx->path_color = ( SDL_Color ){ 0x00, 0x00,     0x00,     0xFF };\n    gfx->fill       = ( SDL_Rect  ){  150,  150,      368,      368 };\n    gfx->fill_color = ( SDL_Color ){ 0xFF, 0xFF,     0xFF,     0xFF };\n}\n\nvoid graphicsDraw( Graphics* gfx, Player* plyr, Target* trgt )\n{\n    SDL_FillRect( gfx->surface, NULL, SDL_MapRGB( gfx->surface->format, 0xFF, 0xFF, 0xFF ) );\n    // SDL_FillRect( gfx->surface, &gfx->back, SDL_MapRGB( gfx->surface->format, gfx->back_color.r, gfx->back_color.g, gfx->back_color.b ) );\n    SDL_FillRect( gfx->surface, &gfx->path, SDL_MapRGB( gfx->surface->format, gfx->path_color.r, gfx->path_color.g, gfx->path_color.b ) );\n    SDL_FillRect( gfx->surface, &gfx->fill, SDL_MapRGB( gfx->surface->format, gfx->fill_color.r, gfx->fill_color.g, gfx->fill_color.b ) );\n    \n    SDL_FillRect( gfx->surface, &trgt->clear, SDL_MapRGB( gfx->surface->format, 0x00, 0x00, 0x00 ) );\n    SDL_FillRect( gfx->surface, &trgt->outter, SDL_MapRGB( gfx->surface->format, trgt->color.r, trgt->color.g, trgt->color.b ) );\n    SDL_FillRect( gfx->surface, &trgt->fill, SDL_MapRGB( gfx->surface->format, 0x00, 0x00, 0x00 ) );\n    SDL_FillRect( gfx->surface, &trgt->goal, SDL_MapRGB( gfx->surface->format, trgt->color.r, trgt->color.g, trgt->color.b ) );\n    SDL_FillRect( gfx->surface, &trgt->inner, SDL_MapRGB( gfx->surface->format, 0x00, 0x00, 0x00 ) );\n    \n    SDL_FillRect( gfx->surface, &plyr->body, SDL_MapRGB( gfx->surface->format, plyr->color.r, plyr->color.g, plyr->color.b ) );\n}\n","#include <stdio.h>\n#include <SDL/SDL.h>\n#include <emscripten.h>\n\n#define TRUE 1\n#define FALSE 0\nstatic int running = TRUE;\nstatic int did_score = FALSE;\n\nstatic const int SCREEN_W = 668;\nstatic const int SCREEN_H = 668;\n\n#include \"direction.h\"\n#include \"player.h\"\n#include \"target.h\"\n#include \"graphics.h\"\n\nGraphics gfx;\nTarget trgt;\nPlayer plyr;\n\nint score_it = 0;\n\nvoid loop()\n{\n    static SDL_Event e;\n    while( SDL_PollEvent( &e ) != 0 )\n    {\n        if( e.type == SDL_QUIT )\n        {\n            running = FALSE;\n        }\n        else if( e.type == SDL_KEYDOWN )\n        {\n            if( e.key.keysym.sym == SDLK_SPACE && plyr.dir != STOP )\n            {\n                if( targetCheck( &trgt, &plyr ) == TRUE )\n                {\n                    score_it = 0;\n                    setTargetDir( &trgt );\n                    plyr.prev = plyr.dir;\n                    plyr.dir = STOP;\n                    did_score = TRUE;\n                    printf( \"main.c:44 : did_score = True\\n\" );\n                }\n                else\n                {\n                    did_score = FALSE;\n                    printf( \"main.c:49 : did_score = False\\n\" );\n                }\n            }\n        }\n    }\n\n    if( plyr.dir == STOP ) \n    {\n        if( score_it == 0 )\n        {\n            printf( \"main.c:59 : score_it = 0\\n\" );       \n        }\n        // printf( \"did_score: %d\\n\", did_score );\n        if( targetMove( &trgt ) == FALSE ) \n        {\n            printf( \"main.c:64 : ( %d, %d )\\n\", trgt.clear.x, trgt.clear.y );\n            trgt.dir = STOP;\n            trgt.color = ( SDL_Color ){ 0x00, 0xCC, 0xFF, 0xFF };\n            plyr.dir = plyr.prev;\n        }\n        else\n        {\n            if( score_it == 0 )\n            {\n                printf( \"main.c:73 : targetMove() TRUE\\n\" );\n            }\n        }\n    }\n    \n    if( did_score == TRUE )\n    {\n        score_it++;\n    }\n\n    playerMovement( &plyr );\n    graphicsDraw( &gfx, &plyr, &trgt );\n    SDL_Flip( gfx.surface );\n}\n\nint main( int argc, char* args[] )\n{\n    //printf( \"SDL running through Emscripten\\n\" );\n\n    SDL_Init( SDL_INIT_VIDEO );\n    graphicsInit( &gfx );\n    targetInit( &trgt );\n    playerInit( &plyr );\n\n    #ifdef EMSCRIPTEN\n        emscripten_set_main_loop( loop, 0, 1 );\n    #else\n        while( running == TRUE )\n        {\n            loop();\n        }\n    #endif\n\n    SDL_Quit();\n    printf( \"SDL_Quit\\n\" );\n    return 0;\n}\n","typedef struct player\n{\n    SDL_Rect body;\n    SDL_Color color;\n    SDL_Rect bounds;\n    int x_speed, y_speed;\n    Direction dir;\n    Direction prev;\n} Player;\n\nvoid playerDraw( Player* plyr, SDL_Surface* surface )\n{\n    SDL_FillRect( surface, &plyr->body, SDL_MapRGB( surface->format, plyr->color.r, plyr->color.g, plyr->color.b ) );\n}\n\nvoid playerInit( Player* plyr )\n{\n    plyr->body    = ( SDL_Rect  ){   30,   30,  120,  120 };\n    plyr->color   = ( SDL_Color ){ 0xFF, 0x00, 0x00, 0xFF };\n    plyr->bounds  = ( SDL_Rect  ){   30,   30,  518,  518 };\n    plyr->x_speed = plyr->y_speed = 0;\n    plyr->dir     = ( Direction )RIGHT;\n    plyr->prev    = ( Direction )STOP;\n}\n\nvoid playerMovement( Player* plyr )\n{\n    if( plyr->body.x == plyr->bounds.x && plyr->body.y <= plyr->bounds.y )\n    {\n        plyr->body.y = plyr->bounds.y;\n        plyr->dir = RIGHT;\n    }\n    if( plyr->body.x >= plyr->bounds.w && plyr->body.y == plyr->bounds.y )\n    {\n        plyr->body.x = plyr->bounds.w;\n        plyr->dir = DOWN;\n    }\n    if( plyr->body.x == plyr->bounds.w && plyr->body.y >= plyr->bounds.h )\n    {\n        plyr->body.y = plyr->bounds.h;\n        plyr->dir = LEFT;\n    }\n    if( plyr->body.x <= plyr->bounds.x && plyr->body.y == plyr->bounds.h )\n    {\n        plyr->body.x = plyr->bounds.x;\n        plyr->dir = UP;\n    }\n\n    switch( plyr->dir )\n    {\n        case RIGHT:\n            plyr->x_speed = 5;\n            plyr->y_speed = 0;\n            break;\n        case DOWN:\n            plyr->x_speed = 0;\n            plyr->y_speed = 5;\n            break;\n        case LEFT:\n            plyr->x_speed = -5;\n            plyr->y_speed = 0;\n            break;\n        case UP:\n            plyr->x_speed = 0;\n            plyr->y_speed = -5;\n            break;\n        case STOP:\n            plyr->x_speed = 0;\n            plyr->y_speed = 0;\n            break;\n    }\n\n    plyr->body.x += plyr->x_speed;\n    plyr->body.y += plyr->y_speed;\n}\n"]}